### 一、归一化方法详解

#### 1、概念

实例归一化(Instance normalization):批归一化是注重对每个batch进行归一化，保证数据分布一致，而实例归一化主要用于对单张图像的数据做处理，即对一个批次中单个图片进行归一化。

![](https://ai-studio-static-online.cdn.bcebos.com/20b4d008e36e410c8763f67421985e2575e58f470e894810820e62ef8d0f064a)

![](https://ai-studio-static-online.cdn.bcebos.com/2f579357b13347c6841823920e28ee43a0b6ea80acf14077882df88f9161ec11)

#### 2、算法流程

（1）沿着通道计算每张图的均值u
![](https://ai-studio-static-online.cdn.bcebos.com/109694acca644bb8b2e131788a99848c28fcf5521b6c43afaf50c77f8e3d77cf)；
（2）沿着通道计算每张图的方差σ^2
![](https://ai-studio-static-online.cdn.bcebos.com/6731cff008724e829d9fe30aaed5ab9c45acbeaefde24bcfa225bef34bd06216)。
（3）对x做归一化，y=(x-u)/开根号(σ^2+ε)
![](https://ai-studio-static-online.cdn.bcebos.com/ea13c6e1dc31410ea0ef752909af05a784d2eab9e15543b6a92c9c0c351cdac8)；
（4）加入缩放和平移变量γ和β ,归一化后的值，y'=γy+β

#### 3、作用

IN可以用作消除全局信息。比如对一段语音进行IN，就会把全局信息滤掉，比如音色就是全局信息，因为从头到尾它都存在，而语音的内容是局部信息，因为不同时间说的话不同。
所以在做风格迁移的时候，对于提取内容的那一路，可以用IN来滤除音色信息。

#### 4、应用场景

对比BN适用于判别模型，而IN适用于生成模型中，比如图片风格迁移。因为图片生成的结果主要依赖于某个图像实例，所以对整个batch归一化不适合图像风格化中，在风格迁移中使用Instance Normalization不仅可以加速模型收敛，并且可以保持每个图像实例之间的独立。

